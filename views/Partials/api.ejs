<script>
     //start of davids code

// Client-side code to handle redirection back to your website
window.onload = function() {
    const params = new URLSearchParams(window.location.search);
    const code = params.get('code');
    if (code) {
        // Handle authorization code
        // Example: send the code to the server to exchange for an access token
        fetch('/exchangeCodeForToken', {
            method: 'POST',
            body: JSON.stringify({ code: code }),
            headers: {
                'Content-Type': 'application/json'
            }
        })
        .then(response => response.json())
        .then(data => {
            console.log('Access token:', data.access_token);
            // Handle access token
        })
        .catch(error => console.error('Error:', error));
    }
};

</script>