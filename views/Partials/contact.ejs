<script> 
  function messageSent() {
    // Clear the form fields
    document.getElementById("Contact-Email").value = "";
    document.getElementById("Contact-Message").value = "";

    {
      var emptyName = document.forms["contactForm"]["name"].value; //grabbing the value from the input field
      var emptyMessage = document.forms["contactForm"]["message"].value;
      if (emptyName == "") {
        //if the name field is empty than it will let the user know to fill in that field inorder for the submit to work
        alert("You need to fill the name field!");
        return false;
      } else if (emptyMessage == "") {
        //if the message field is empty than it will let the user know to fill in that field inorder for the submit to work
        alert("You need to fill the message field!");
        return false;
      } //if both fields are full then the message will be sent through succesfully
      else {
        alert(
          "Your message has successfully been sent to our contact services!"
        );
        return true;
      }
    } //end of function

  }


  function loadMessage(){
    const name = document.getElementById("name").value;
    const message = document.getElementById("message").value;

    // You can perform validation here before submitting the form
    if (name.trim() === "" || message.trim() === "") {
      alert("Please fill in all fields.");
      return false; // Prevent form submission if fields are empty
    }

    // Assuming you want to use AJAX to submit the form data
    const formData = new FormData(document.getElementById("contactForm"));
    fetch("/send-email", {
      method: "POST",
      body: formData,
    })
      .then((response) => {
        if (!response.ok) {
          throw new Error("Failed to send email");
        }
        return response.text();
      })
      .then((data) => {
        alert(data); // Display success message
        document.getElementById("contactForm").reset(); // Reset the form
      })
      .catch((error) => {
        console.error(error);
        alert("An error occurred while sending the email");
      });

    return false; // Prevent default form submission
  }


  document.getElementById('contactForm').addEventListener('submit', async (e) => {
    e.preventDefault();
  
    const formData = new FormData(e.target);
    const responseData = {};
  
    formData.forEach((value, key) => {
      responseData[key] = value;
    });
  
    try {
      const response = await fetch('/send-email', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(responseData)
      });
  
      if (!response.ok) {
        throw new Error('Failed to send email');
      }
  
      const result = await response.text();
      alert(result);
    } catch (error) {
      console.error(error);
      alert('An error occurred while sending the email');
    }
  });



    //end of davids code
</script>