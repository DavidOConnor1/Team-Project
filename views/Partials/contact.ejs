
<script>
    //Davids Code
    function messageSent()
    {
      var emptyName = document.forms["contactForm"]["name"].value; //grabbing the value from the input field
      var emptyMessage = document.forms["contactForm"]["message"].value;
      if(emptyName == "")
      { //if the name field is empty than it will let the user know to fill in that field inorder for the submit to work
        alert('You need to fill the name field!');
        return false;
      } 
      else if(emptyMessage == "") //if the message field is empty than it will let the user know to fill in that field inorder for the submit to work
      {
          alert("You need to fill the message field!");
          return false;
      } 
      else //if both fields are full then the message will be sent through succesfully
      {
          alert("You message has successfully been sent to our contact services!");
          return true;
      }
    } //end of function

    document.getElementById('contactForm').addEventListener('submit', async (e) => {
      e.preventDefault();
    
      const formData = new FormData(e.target);
      const responseData = {};
    
      formData.forEach((value, key) => {
        responseData[key] = value;
      });
    
      try {
        const response = await fetch('/send-email', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(responseData)
        });
    
        if (!response.ok) {
          throw new Error('Failed to send email');
        }
    
        const result = await response.text();
        alert(result); // Display success message
        // Optionally clear the form fields after successful submission
        e.target.reset();
      } catch (error) {
        console.error(error);
        alert('An error occurred while sending the email');
      }
    });
    


    //end of davids code
</script>